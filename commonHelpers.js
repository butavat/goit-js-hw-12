import{S as f,i as l,a as y}from"./assets/vendor-89feecc5.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}})();const c=document.querySelector(".form"),u=document.querySelector(".gallery"),h=document.querySelector(".loader"),p=document.querySelector(".load_more_btn"),b=document.querySelector(".loader-container"),F=new f(".gallery a",{captionsData:"alt",captionDelay:250,close:!0,enableKeyboard:!0,docClose:!0}),L=e=>{h.style.display=e?"block":"none"},i=e=>{p.style.display=e?"flex":"none"},n=e=>{b.style.display=e?"flex":"none"},v=e=>e.reduce((a,o)=>a+`
    <li class="gallery-item">
      <a href="${o.largeImageURL}"> 
        <img class="gallery-img" src="${o.webformatURL}" alt="${o.tags}" />
      </a>
      <div class="gallery-text-box">
        <p>Likes: <span class="text-value">${o.likes}</span></p>
        <p>Views: <span class="text-value">${o.views}</span></p>
        <p>Comments: <span class="text-value">${o.comments}</span></p>
        <p>Downloads: <span class="text-value">${o.downloads}</span></p>
      </div>
    </li>
    `,""),m=async e=>{var o;const a="https://pixabay.com/api/?";try{L(!0);const s=await y.get(a,{params:{...e}});if(s.data.hits.length===0)l.error({position:"bottomRight",messageColor:"#FFFFFF",backgroundColor:"#EF4040",titleSize:"8px",closeOnEscape:!0,message:"Sorry, there are no images matching your search query. Please try again!"});else{const t=(o=u.querySelector(".gallery-item"))==null?void 0:o.getBoundingClientRect().height;u.insertAdjacentHTML("beforeend",v(s.data.hits)),F.refresh(),e.page*e.per_page>=s.data.totalHits?(i(!1),l.info({position:"bottomRight",messageColor:"#FFFFFF",backgroundColor:"#3e4f65",titleSize:"8px",closeOnEscape:!0,message:"We're sorry, but you've reached the end of search results."})):i(!0),window.scrollBy({top:t*2,behavior:"smooth"})}}catch{l.error({position:"bottomRight",messageColor:"#FFFFFF",backgroundColor:"#EF4040",titleSize:"8px",closeOnEscape:!0,message:"An error occurred while fetching images. Please try again."})}finally{n(!1)}},S=async()=>{const e={key:"41732338-ca5909782120305119b6393dc",q:c.dataset.searchTerm,image_type:"photo",orientation:"horizontal",safesearch:!0,page:1,per_page:40};e.page+=1,n(!0),await m(e)},g=async e=>{e.preventDefault(),n(!0),i(!1);const a=e.target.elements.search,o=encodeURIComponent(a.value.trim());if(o===""){l.error({position:"bottomRight",messageColor:"#FFFFFF",backgroundColor:"#EF4040",titleSize:"8px",closeOnEscape:!0,message:"Please enter a valid search query."}),n(!1);return}const s={key:"41732338-ca5909782120305119b6393dc",q:o,image_type:"photo",orientation:"horizontal",safesearch:!0,page:1,per_page:40};u.innerHTML="",await m(s),n(!1),i(!0),c.dataset.searchTerm=o};c.addEventListener("submit",g);p.addEventListener("click",S);document.addEventListener("DOMContentLoaded",()=>{const e=c.dataset.searchTerm;e&&g({target:{elements:{search:{value:e}}}})});
//# sourceMappingURL=commonHelpers.js.map
