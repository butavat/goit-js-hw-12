import{S as m,a as g,i as u}from"./assets/vendor-89feecc5.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}})();const y=document.querySelector(".form"),l=document.querySelector(".gallery"),h=document.querySelector(".loader"),b=document.querySelector(".load_more_btn"),w="https://pixabay.com/api/?",v="41732338-ca5909782120305119b6393dc",a={key:v,q:"",image_type:"photo",orientation:"horizontal",safesearch:!0,page:1,per_page:40};let d="";const L=new m(".gallery a",{captionsData:"alt",captionDelay:250,close:!0,enableKeyboard:!0,docClose:!0}),c=r=>{h.style.display=r?"block":"none"},p=r=>{b.style.display=r?"block":"none"},F=r=>r.reduce((e,t)=>e+`
    <li class="gallery-item">
      <a href="${t.largeImageURL}"> 
        <img class="gallery-img" src="${t.webformatURL}" alt="${t.tags}" />
      </a>
      <div class="gallery-text-box">
        <p>Likes: <span class="text-value">${t.likes}</span></p>
        <p>Views: <span class="text-value">${t.views}</span></p>
        <p>Comments: <span class="text-value">${t.comments}</span></p>
        <p>Downloads: <span class="text-value">${t.downloads}</span></p>
      </div>
    </li>
    `,""),f=async()=>{var r;try{const e=await g.get(w,{params:{...a,page:a.page,q:a.q}});if(e.data.hits.length===0)u.error({position:"bottomCenter",messageColor:"#FFFFFF",backgroundColor:"#EF4040",titleSize:"8px",closeOnEscape:!0,message:"Sorry, there are no images matching your search query. Please try again!"});else{const t=(r=l.querySelector(".gallery-item"))==null?void 0:r.getBoundingClientRect().height;l.innerHTML+=F(e.data.hits),L.refresh(),a.page*a.per_page>=e.data.totalHits?(p(!1),u.info({position:"bottomCenter",messageColor:"#FFFFFF",backgroundColor:"#3e4f65",titleSize:"8px",closeOnEscape:!0,message:"We're sorry, but you've reached the end of search results."})):p(!0),window.scrollBy({top:t*2,behavior:"smooth"})}}catch(e){console.error(e.message)}finally{c(!1)}},S=()=>{a.page+=1,f()};y.addEventListener("submit",r=>{r.preventDefault(),c(!0);const e=r.target.elements.search,t=encodeURIComponent(e.value.trim());if(t===""){console.error("Please enter a valid search query."),c(!1);return}t!==d&&(a.page=1,l.innerHTML=""),a.q=t,d=t,f(),e.value=""});window.addEventListener("scroll",()=>{const r=window.scrollY+window.innerHeight,e=document.body.offsetHeight;r>=e-200&&S()});
//# sourceMappingURL=commonHelpers.js.map
